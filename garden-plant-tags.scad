////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

include <modules/text-label.scad>

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// measurements

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// settings

render_mode = "preview";
// render_mode = "print";

label = "Tomato";

label_section_x = 120;
stake_section_x = 50;

tag_y = 25;
tag_z = 10;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// calculations

$fn = $preview ? 32 : 128;

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
// models

PlantTag();

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

module PlantTag()
{
    top_r = tag_y / 2;

    // label section
    union()
    {
        // tounded top
        translate([ top_r, top_r, 0 ])
            cylinder(
                r = top_r,
                h = tag_z
            );

        // main body
        translate([ top_r, 0, 0 ])
            cube([ label_section_x, tag_y, tag_z ]);
    }

    // stake section
    polyhedron(
        points = [
            [ top_r + label_section_x, tag_y, tag_z ],
            [ top_r + label_section_x + stake_section_x, tag_y / 2, tag_z ],
            [ top_r + label_section_x, 0, tag_z ],
            [ top_r + label_section_x, tag_y, 0 ],
            [ top_r + label_section_x + stake_section_x, tag_y / 2, 0 ],
            [ top_r + label_section_x, 0, 0 ]
            ],
        faces = [
            [ 0, 1, 2 ],
            [ 1, 0, 3, 4 ],
            [ 2, 1, 4, 5 ],
            [ 0, 2, 5, 3 ],
            [ 3,5,4 ],
            ]
    );

    // label

    // svg

}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
